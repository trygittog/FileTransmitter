# P2PShareFileSample
P2P文件共享的简单实现
① 基于TCP的文件传输器的设计与实现
基本要求：
a.	能够通过网络传输文件（可实现按扩展名过滤传输，确保安全性）；
b.	设计一个能够保证进行可靠传输的机制；（可实现点对点的文件传输、传输文件前的“接收提醒”、传输过程中的提醒包括“暂停传输”，“关闭连接”。）
c.	服务器、客户端间的交互采用控制台方式或GUI窗口方式均可；

###P2P客户端程序过程：
一：资源共享端P2PSharerPeer
1选定要共享的文件：浏览文件/手动键入文件绝对路径。
2选定P2P公共服务器IP和端口：默认127.0.0.1:13000
3按下“资源发布”按钮：先验证输入数据的合法性，然后与P2P公共服务器建立TCP连接以发布资源，关闭连接并显示结果。
向P2P公共服务器发送的TCP数据流格式（采用UTF8编码）：
请求类型pub：3字节	文件名（包括扩展名）：60字节	文件长度：20字节
String					  string                		 string              
4资源共享按钮：开启监听，接收连接，并显示“已连接”。发送文件，关闭连接并显示结果。
向下载者发送的TCP数据流格式（字符串采用UTF8）：
文件名（包括扩展名）：60字节	文件长度：20字节	文件二进制数据.....
  String					         string             bit
二：资源下载端DownloaderPeer
1.选定下载文件的保存目录：浏览目录。
2.指定P2P公共服务器IP和端口：手动键入，默认127.0.0.1:13000。
按下“资源获取”按钮：先检验输入的数据的合法性。然后与P2P公共服务器建立TCP连接以获得资源列表，关闭连接并显示结果。
向P2P公共服务器发送的TCP数据流格式（采用UTF8编码）：
请求类型get：3字节	文件名（包括扩展名）：60字节	资源共享者IP：15字节	资源共享者Port：5字节
String			      string		   			           string				          string
3.按下“下载”按钮：先检验输入的数据的合法性。创建创建套接字并连接。下载数据前分析文件类型，过程中显示连接的状态。
接收的TCP数据流格式（字符串采用UTF8）：
文件名（包括文件扩展名）：60字节	文件长度：20字节	文件二进制数据.....


###P2P公共服务器（P2PServer）
4.指定服务器节点信息：手动键入，默认127.0.0.1:13000。
5.按下“开启P2P服务器”按钮：开启监听，接收连接。按请求类型回应信息，并维护文件列表fileList；
向下载者发送的TCP数据流
回应类型gok：3字节	文件名（包括文件扩展名）：60字节	文件长度：20字节	资源共享者IP：	资源共享者Port：5字节
